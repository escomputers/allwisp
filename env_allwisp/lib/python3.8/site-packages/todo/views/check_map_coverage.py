from django.conf import settings
from django.contrib import messages
from django.contrib.auth.decorators import login_required, user_passes_test
from django.contrib.auth import get_user_model
from django.contrib.sites.models import Site
from django.core.mail import send_mail
from django.http import HttpResponse
from django.shortcuts import redirect, render
from django.template.loader import render_to_string

from todo.defaults import defaults
from todo.utils import staff_check


@login_required
@user_passes_test(staff_check)
def check_map_coverage(request) -> HttpResponse:

	#Only staffers can add lists, regardless of TODO_STAFF_USER setting.
    if not request.user.is_staff:
		raise PermissionDenied

	return render(request, 'todo/mappa.html', {})