{% extends "base.html" %} 
{% block content %}  

<div class="content-wrapper">

    <!-- Content Header (Page header) -->
    <section class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
  <h3 class="text-bold text-dark">Aggiungi cliente</h3>
</div>
</div>
  </div>
  </section>
			  
	<section class="content">
      <div class="container-fluid">		  
			  
       <form method="POST" action="">
      {% csrf_token %}
	  
	  	<!-- sezione per errori form -->
	   {% if clienti.errors %}
        {% for error in field.errors %}
       <div class="alert alert-danger" role="alert"> 
	   {{ error }} 
	   </div>
		{% endfor %}
		{% endif %}
		
	
			
		

		
	
		
   <div class="card card-primary">
		  
            <div class="card-header">
              <h5 class="text-bold text-bright">Dati anagrafici</h5>
            </div>
			
	<div class="card-body">

	  <div class="row">
		
		  <div class="alert alert-warning alert-dismissible">
			<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
			<p align="center">
			<h5><i class="icon fas fa-exclamation-triangle"></i>
			<b>
			{%if ultimoid.customer_id%}
			Ultimo ID</br>
			{{ultimoid.customer_id}}
			{%else%}
			{{ultimoid}}
			{%endif%}
			</b>
			</h5>
			</p>		
			</div>
				
		<div class="col-sm-3">
		  <div class="card card-outline card-warning">
		  
				<div class="card-header">
				<h5 class="text-bold text-dark">ID</h5>
				</div>
			
				<div class="card-body">
					<div class="input-group mb-3">
					{{ clienti.customer_id }}
					</div>
				</div>

		  </div>
		</div>
		  
		  
			<div class="col-sm-3">
				  <div class="card card-outline card-warning">
				  
					<div class="card-header">
					<h5 class="text-bold text-dark">Stato cliente</h5>
					</div>
					
					<div class="card-body">
						<div class="input-group mb-3">
							<select name="stato_cliente" class="form-control" style="width: 40%;">
								<option value="attivo selected">Attivo</option>
								<option value="prospect">Prospect</option>
								<option value="lead">Lead</option>
							</select> 
						</div>
					</div>

				  </div>
			</div>
			
		<div class="col-sm-3">
	    <div class="card card-outline card-warning">
				  
		<div class="card-header">
		<h5 class="text-bold text-dark">Fatturazione</h5>
		</div>
					
		<div class="card-body">	
		
				<table class="table table-bordered">			
				<tbody>
				
				<tr>
				<td><label id="scelta_fattura">cortesia</label></td>
				<td style="text-align:center;">
				<input type="checkbox" name="scelta_fattura" id="scelta_fattura" data-toggle="toggle" data-on="On" data-off="Off" data-onstyle="success" data-offstyle="secondary" data-size="normal">
				</td>
				</tr>
				
				<tr>
				<td><label id="recur">ricorrente</label></td>
				<td style="text-align:center;">
				<input type="checkbox" name="recur" id="recur" data-toggle="toggle" data-on="On" data-off="Off" data-onstyle="success" data-offstyle="secondary" data-size="normal">
				</td>
				</tr>
	
				</tbody>
				</table>
			</div>

		</div>
	</div>
		  
  </div>
				
		
		<!-- -------------------DATI ANAGRAFICI-------------------------------->			  
	<div class="row">	
		<div class="col-sm-12">
			<div class="card card-outline card-primary">
				  

		<div class="card-body">
			<div class="row">
                  <div class="col-sm">
                    <div class="form-group">
                      <label for="ragionesociale">Ragione sociale</label> 
                      {{ clienti.ragionesociale }}

                    </div>
                  </div>
                  
                  <div class="col-sm">
                    <div class="form-group">
                      <label for="p_iva">Partita IVA</label> 
                      {{ clienti.piva }}
                    </div>
                  </div>
                  <div class="col-sm">
                  <div class="form-group">
                    <label for="c_univoco">Codice Univoco</label> 
                    {{ clienti.codiceunivoco_sdi}}
                  </div>
                </div>
                  <div class="col-sm">
                    <div class="form-group">
                      <label for="c_f">Codice Fiscale</label> 
                      {{ clienti.codicefiscale }}
                    </div>
                  </div>
				  
               </div>
        
		<!-- Indirizzo fatturazione -->
        <div class="card">
			
			<div class="card-tools">
				<!-- Collapse Button -->
			    <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i></button>
			</div>
			  
				<div class="card-header">
				
				<div class="row">
			 
				<div class="col-sm-9">
			    <label>Indirizzo di fatturazione</label>
				</div>
				
				<div class="col-sm-3">
				<label for="copia_indirizzo_inst">Copia in indirizzo installazione</label>
			    <input type="checkbox" name="uguale" id="copia_indirizzo_inst" checked data-toggle="toggle" data-on="On" data-off="Off" data-onstyle="success" data-offstyle="secondary" data-size="small">
				</div>
				
			   </div>
				
				
				</div>
					
				<div class="card-body">				
				<div class="row">
	
					<div class="col-sm">
					<input type="text" name="indirizzo_res" id="indirizzo_res" class="form-control" required placeholder="Indirizzo"></td>
					</div>
					</td>

					<div class="col-sm">
					<input type="text" name="comune_res" id="comune_res" class="form-control" required placeholder="Comune"></td>
					</div>

					<div class="col-sm">
					<input type="text" name="cap_res" id="cap_res" class="form-control" required placeholder="Cap"></td>
					</div>

					<div class="col-sm">
					<input type="text" name="prov_res" id="prov_res" class="form-control" required placeholder="Provincia"></td>
					</div>
				</div>
			   </div>
		</div>	  
        
		
		<!-- Indirizzo installazione -->
        <div class="form_indirizzo_inst">
		<div class="card">
			
			<div class="card-tools">
				<!-- Collapse Button -->
			    <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i></button>
			    </div>
			  
				<div class="card-header">
			    <label>Indirizzo di installazione</label>
				</div>
				
			<div class="card-body">				
				<div class="row">
	
					<div class="col-sm">
					<input type="text" name="indirizzo_inst" id="indirizzo_inst" class="form-control" placeholder="Indirizzo"></td>
					</div>
					</td>

					<div class="col-sm">
					<input type="text" name="comune_inst" id="comune_inst" class="form-control" placeholder="Comune"></td>
					</div>

					<div class="col-sm">
					<input type="text" name="cap_inst" id="cap_inst" class="form-control" placeholder="Cap"></td>
					</div>

					<div class="col-sm">
					<input type="text" name="prov_inst" id="prov_inst" class="form-control" placeholder="Provincia"></td>
					</div>
				</div>
			 </div>
		</div>	
		</div>
                <div class="row">
				
                  <div class="col-sm">
                    <div class="form-group">
                      <label for="cel">Telefono</label> 
                      {{ clienti.recapito_tel}}
                    </div>
                  </div>
				  
                  <div class="col-sm">
                    <div class="form-group">
                      <label for="fax">FAX</label> 
                      {{ clienti.fax}}
                    </div>
                  </div>
				  
				  <div class="col-sm">
                    <div class="form-group">
                      <label for="email">Email</label> 
                      {{ clienti.email}}
                    </div>
                  </div>
				  
                  <div class="col-sm">
                    <div class="form-group">
                      <label for="pec">PEC</label> 
                      {{ clienti.pec}}
                    </div>
                  </div>
				  
                </div>
				
                <div class="row">
				
                  <div class="col-sm">
                    <div class="form-group">
                      <label for="note">Note</label> 
                      {{ clienti.note}}
                    </div>
                  </div>
				  
                  <div class="col-sm">
                    <div class="form-group">
                      <label for="gps" >coordinate GPS</label> 
                      {{ clienti.coordinate_gps}}
                    </div>
                  </div>
				  
                </div>

				</div>
				<!-- card card-body -->

			</div>
			<!-- card card-outline card-primary -->
			
		</div>
		<!-- col-sm-12 -->
		
	</div>
	<!-- row col-sm-12 -->
	
	</div>
 <!-- card card-body dati anagrafici-->
 
</div>
<!-- card card-primary dati anagrafici -->
	
<!-- ##########################  CONDIZIONI CONTRATTUALI  ############################################# -->	  
	  <div class="card card-primary">
	  
		<div class="card-header">
		 <h5 class="text-bold text-bright">Condizioni contrattuali</h5>
		</div>
			
		<div class="card-body">
		
		 <div class="row">
		 
		 <!-- servizio primario -->
		  <div class="col-sm">
		  	<table class="table table-bordered">
				<thead>
				<tr class="table-primary">
				<th>Servizio primario</th>
				<th>Durata</th>
				<th style="width: 20px">Data attivazione</th>
				</tr>
				</thead>
				<tbody>
				
				<tr>
				
					<td>
					{{ clienti.offerta_internet}}
					</td>
					
					<td>
					<select name="durata_contratto" class="form-control">
					<option value="6">6 mesi</option>
					<option value="12">12 mesi</option>
					<option value="24">24 mesi</option>
					</select> 			  
					</td>
					
					<td>
					<input type="date" name="data_inizio_contratto" class="form-control pull-right" required>
					</td>
				
				</tr>
				
				</tbody>
				</table>
			
			
			<!-- servizi secondari -->
				<table class="table table-bordered">
				<thead>
				<tr class="table-secondary">
				<th>Servizi secondari</th>
				<th>Durata</th>
				<th style="width: 20px">Data attivazione</th>
				</tr>
				</thead>
				<tbody>
				
				<tr>
				
					<td>
					{{ clienti.offerta_voip}}
					</td>
					
					<td>
					<select name="durata_contratto" class="form-control">
					<option value="6">6 mesi</option>
					<option value="12">12 mesi</option>
					<option value="24">24 mesi</option>
					</select> 			  
					</td>
					
					<td>
					<input type="date" name="data_inizio_contratto" class="form-control pull-right" required>
					</td>
				
				</tr>
				
				</tbody>
				</table>
		 </div>
		
		<!-- importi aggiuntivi prima fattura -->		
		<div class="col-sm">
			<div class="form-group">
			<label for="aggiungi_extra">Aggiungi extra in prima fattura</label>
			{{ clienti.offerta_extra}}
			</div>
		</div>	
			
		</div>
		
             
	</div>
	<!-- card card-body -->
	 
</div> 
 <!-- card card-primary -->		
		
<!-- ##########################  DATI PAGAMENTO  ############################################# -->	  
			
	<div class="card card-primary">
	
            <div class="card-header">
              <h5 class="text-bold text-bright">Dati di pagamento</h5>
            </div>
			
    <div class="card-body">
			
        <div class="row">
		
			<div class="col-sm">
			  <div class="form-group">
				<label for="cadenza_pagamento">Cadenza pagamento</label> 
			   {{ clienti.cadenza_pagamento}}
			   </div>
			
			
			
			<table class="table table-bordered">

			<tbody>
			
				<tr>
				<td><label for="pagamento_anticipato">Anticipato</label>
				</td>
				<td style="text-align:center;">
				<input type="checkbox" id="pagamento_anticipato" data-toggle="toggle" data-on="On" data-off="Off" data-onstyle="success" data-offstyle="secondary" data-size="small">
				</td>
				</tr>
				
				<tr class="richiesta_calcolo_iniziale">
				<td><label for="richiesta_calcolo_iniziale">Aggiungi giorni in prima fattura</label></td>
				<td style="text-align:center;">
				<input type="checkbox" id="richiesta_calcolo_iniziale" data-toggle="toggle" data-on="On" data-off="Off" data-onstyle="success" data-offstyle="secondary" data-size="small">
				</td>
				</tr>
				
				<tr>
				<td><label for="spese_incasso">Spese incasso</label>
				</td>
				<td style="text-align:center;">
				<input type="checkbox" id="spese_incasso" data-toggle="toggle" data-on="On" data-off="Off" data-onstyle="success" data-offstyle="secondary" data-size="small">
				</td>
				</tr>
				

			
			</tbody>
			</table>

		  </div>
		  
		  
		  	<div class="col-sm">
			  <div class="form-group">
				<label for="metodo_pagamento">Metodo di pagamento</label> 
				{{ clienti.metodo_pagamento}}
			  </div>
			  
			  			<div class="spese_incasso">
			  <div class="col-sm">	
			  <div class="form-group">
				<label for="spese_riscossione">Spese incasso</label> 
				{{ clienti.spese_invio_bolletta}}
			  </div>
		      </div>
			</div>
			  
			  
			</div>
			
		</div> 
		
	
		</div> 
	 <!-- card card-body -->		
	 
</div> 
 <!-- card card-primary -->		
 
<!-- ##########################  DATI CONNESSIONE  ############################################# -->	 
		
	<div class="card card-primary">
	
            <div class="card-header">
              <h5 class="text-bold text-bright">Dati di connessione</h5>
            </div>
			
            <div class="card-body">
			
              <div class="row">
			  
			  <div class="col-sm-2">
                  <div class="form-group">
                    <label for="pppoe_user">Utente PPPOE</label> 
                 <input type="text" id="pppoe_user" class="form-control">
                  </div>
                </div>
			  
				<div class="col-sm-2">
                  <div class="form-group">
                    <label for="nodo">Nodo</label> 
                    {{ clienti.nodo}}
                  </div>
                </div>
				
                <div class="col-sm-2">
                  <div class="form-group">
                    <label for="ip">Indirizzo IP</label> 
                    {{ clienti.ip_statico}}
                  </div>
                </div>
				
                <div class="col-sm-2">
                  <div class="form-group">
                    <label for="mac adress">MAC address</label> 
                    {{ clienti.mac_adress}}
                  </div>
                </div>
				
            </div>
		
           <div class="row">
			  <button type="button" type="submit" name="submit" value="Submit" class="btn btn-success btn-lg">Salva</button>     
			</div>
			
		</form> 
		
	</div> 
	 <!-- card card-body -->		
	
</div> 
<!-- card card-primary -->
				
<!-- ############################################################################################# -->	 
		
	</div>
	<!-- col-xl-12 -->
	
	</div>
	<!-- container-fluid -->
	
  </section>
  <!-- section class="content" -->
  
</div>
<!-- content-wrapper -->

<script>

//*************************AL CARICAMENTO DELLA PAGINA*************************
	$(function () {
	
	//Inizializza bootstrap-duallistbox
	$(".duallistbox").bootstrapDualListbox({
	});
	
	//Nascondi form indirizzo installazione
	$(".form_indirizzo_inst").hide();
	$(".richiesta_calcolo_iniziale").hide();
	$(".spese_incasso").hide();
	});

//******************* TOGGLE SPESE INCASSO ********************	

	$('#spese_incasso').change(function() {
	var stato_checkbox_spese_incasso = $('#spese_incasso').prop('checked')

	if(stato_checkbox_spese_incasso == true){
	$(".spese_incasso").show();
	}else{
	$(".spese_incasso").hide();
	}

	});
	
//******************* TOGGLE PAGAMENTO ANTICIPATO ********************	

	$('#pagamento_anticipato').change(function() {
	var stato_checkbox_pagamento_anticipato = $('#pagamento_anticipato').prop('checked')

	if(stato_checkbox_pagamento_anticipato == true){
	$(".richiesta_calcolo_iniziale").show();
	}else{
	$(".richiesta_calcolo_iniziale").hide();
	}

	});
//******************* TOGGLE COPIA IN INDIRIZZO INSTALLAZIONE********************
	
	$('#copia_indirizzo_inst').change(function() {
	var stato_checkbox_copia_indirizzo_inst = $('#copia_indirizzo_inst').prop('checked')

	if(stato_checkbox_copia_indirizzo_inst == false){
	$(".form_indirizzo_inst").show();
	}else{
	$(".form_indirizzo_inst").hide();
	}

	});
</script>
{% endblock %}