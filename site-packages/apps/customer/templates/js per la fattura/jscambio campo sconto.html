//da inserire dopo la dichiarazione di variabile e script di caricamento pagina


<script type="text/javascript">
  
$('#campo_sconto').on('change','input'(function(){
    
    sconto_applicato=0
    sconto_applicato=parseFloat($('#campo_sconto').val());
    var totaleconiva=0;
    spese_spedizione=0;
    spese_spedizione=parseFloat($('##spese_spedizione').val());
    altrioneri_fattura=0;
    var totalesconto=0
    altrioneri_fattura=parseFloat($('#altri_oneri_fattura').val());


    $(".totale").each(function(){//per ognio campo totale
        totaleconiva += +$(this).val();
    });
        

    if(risultato_checkbox_sconto =='cifra'){ //sconto in unitÃ  di valuta
      $('#sconto_applicato').text(sconto_applicato)
      totalesconto=sconto_applicato
    }



    else if(risultato_checkbox_sconto =='percentuale'){//sconto in percentuale
      var somma_dello_sconto=sconto_applicato/100
      $('#sconto_applicato').text(sconto_applicato + '%')
       totalesconto=totaleconiva*somma_dello_sconto
    };

  var totalefatturasconto=totaleconiva  - totalesconto
    var totalescontato = totalefatturasconto + altrioneri_fattura+spese_spedizione

if(totalescontato>0){
  totalesconto=0.00
  $('#totale_della_fattura').text(totalescontato);
}
else{
  alert("Attenzione, hai inserito uno sconto maggiore dell'imponibile, si prega di sistemare");
  $('#totale_della_fattura').text('0.00');
}

});

</script>