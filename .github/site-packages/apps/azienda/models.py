from __future__ import unicode_literals
import os
import datetime
from django import forms
from django.db import connections
from django.core.files.storage import FileSystemStorage
from django.db import models
from phonenumber_field.modelfields import PhoneNumberField
from phonenumber_field.widgets import PhoneNumberPrefixWidget
from apps.documents.models import Document
from internationalflavor.vat_number import VATNumberField
from internationalflavor.iban import IBANField


class Azienda (models.Model):
	ragionesociale = models.CharField(max_length=256)
	codicefiscale = models.CharField(max_length=256,blank=True)
	piva = VATNumberField(max_length=256, blank=True)
	codiceunivoco_sdi = models.CharField(max_length=20, blank=True)
	pec = models.EmailField()
	indirizzo_res = models.CharField(max_length=256,blank=True)
	comune_res = models.CharField(max_length=256,blank=True)
	cap_res = models.CharField(max_length=256,blank=True)
	prov_res = models.CharField(max_length=256,blank=True)
	email = models.EmailField()
	recapito_tel = PhoneNumberField(default='+39')
	fax = PhoneNumberField(blank=True, default='+39')
	codice_iban = IBANField()
	note = models.TextField(blank=True)
	
	#modifica per app recur
	giorno_cadenza_fatturazione = models.IntegerField(blank=True, null=True)
	

	def __str__(self):
		return self.ragionesociale
